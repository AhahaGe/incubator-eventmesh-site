"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[745],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return h}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=n.createContext({}),c=function(e){var t=n.useContext(a),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=c(e.components);return n.createElement(a.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,s=e.originalType,a=e.parentName,l=u(e,["components","mdxType","originalType","parentName"]),p=c(r),h=o,d=p["".concat(a,".").concat(h)]||p[h]||m[h]||s;return r?n.createElement(d,i(i({ref:t},l),{},{components:r})):n.createElement(d,i({ref:t},l))}));function h(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=r.length,i=new Array(s);i[0]=p;var u={};for(var a in t)hasOwnProperty.call(t,a)&&(u[a]=t[a]);u.originalType=e,u.mdxType="string"==typeof e?e:o,i[1]=u;for(var c=2;c<s;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},9533:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return u},contentTitle:function(){return a},metadata:function(){return c},toc:function(){return l},default:function(){return p}});var n=r(7462),o=r(3366),s=(r(7294),r(3905)),i=["components"],u={},a=void 0,c={unversionedId:"instructions/eventmesh-metrics-Prometheus-instruction",id:"instructions/eventmesh-metrics-Prometheus-instruction",title:"eventmesh-metrics-Prometheus-instruction",description:"Observe metrics through Prometheus",source:"@site/docs/instructions/eventmesh-metrics-Prometheus-instruction.md",sourceDirName:"instructions",slug:"/instructions/eventmesh-metrics-Prometheus-instruction",permalink:"/docs/instructions/eventmesh-metrics-Prometheus-instruction",editUrl:"https://github.com/apache/incubator-eventmesh-site/edit/master/docs/instructions/eventmesh-metrics-Prometheus-instruction.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"EventMesh SPI",permalink:"/docs/features/spi"},next:{title:"TCP Protocol Document In Eventmesh-Runtime",permalink:"/docs/instructions/eventmesh-runtime-protocol"}},l=[{value:"Observe metrics through Prometheus",id:"observe-metrics-through-prometheus",children:[{value:"1\u3001download Prometheus",id:"1download-prometheus",children:[],level:3},{value:"2\u3001In Prometheus Add configuration in YML",id:"2in-prometheus-add-configuration-in-yml",children:[],level:3},{value:"3\u3001run Prometheus and eventmesh",id:"3run-prometheus-and-eventmesh",children:[],level:3},{value:"4\u3001Enter the metrics you want to observe",id:"4enter-the-metrics-you-want-to-observe",children:[],level:3}],level:2}],m={toc:l};function p(e){var t=e.components,u=(0,o.Z)(e,i);return(0,s.kt)("wrapper",(0,n.Z)({},m,u,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"observe-metrics-through-prometheus"},"Observe metrics through Prometheus"),(0,s.kt)("h3",{id:"1download-prometheus"},"1\u3001download Prometheus"),(0,s.kt)("p",null,"Official website\uff1a",(0,s.kt)("a",{parentName:"p",href:"https://prometheus.io/"},"https://prometheus.io/")),(0,s.kt)("p",null,"Download Prometheus locally\uff1a",(0,s.kt)("a",{parentName:"p",href:"https://prometheus.io/download/"},"https://prometheus.io/download/")),(0,s.kt)("p",null,"Select the corresponding version of your computer, download and unzip it"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Prometheus-download",src:r(5977).Z})),(0,s.kt)("h3",{id:"2in-prometheus-add-configuration-in-yml"},"2\u3001In Prometheus Add configuration in YML"),(0,s.kt)("p",null,"If you are new to Prometheus, you can copy it directly\uff1a eventmesh-runtime/conf/prometheus.yml"),(0,s.kt)("p",null,"For example\uff1athis was downloaded in win-64"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"prometheus-yml",src:r(9555).Z})),(0,s.kt)("p",null,"Replace the file in the red box"),(0,s.kt)("p",null,"If you know Prometheus well, you can configure it yourself. The default export port of eventmesh is 19090."),(0,s.kt)("p",null,"ps\uff1aIf the port needs to be replaced, please modify:eventmesh-runtime/conf/eventmesh.properties\u4e2d\u7684"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-properties"},"#prometheusPort\neventMesh.metrics.prometheus.port=19090\n")),(0,s.kt)("h3",{id:"3run-prometheus-and-eventmesh"},"3\u3001run Prometheus and eventmesh"),(0,s.kt)("p",null,"Double click Prometheus.exe startup"),(0,s.kt)("p",null,"run eventmesh-starter(reference ",(0,s.kt)("a",{parentName:"p",href:"/docs/instructions/eventmesh-runtime-quickstart"},"eventmesh-runtime-quickstart"),")"),(0,s.kt)("p",null,"run eventmesh-example(reference ",(0,s.kt)("a",{parentName:"p",href:"/docs/instructions/eventmesh-sdk-java-quickstart"},"eventmesh-sdk-java-quickstart"),")"),(0,s.kt)("p",null,"Open browser access\uff1ahttp://localhost:9090/"),(0,s.kt)("h3",{id:"4enter-the-metrics-you-want-to-observe"},"4\u3001Enter the metrics you want to observe"),(0,s.kt)("p",null,"input '",(0,s.kt)("strong",{parentName:"p"},"eventmesh_"),"' Relevant indicators will appear"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"promethus-search",src:r(6709).Z})))}p.isMDXComponent=!0},5977:function(e,t,r){t.Z=r.p+"assets/images/Prometheus-download-74bd2766cdc4d33286eefd64115a97e6.png"},9555:function(e,t,r){t.Z=r.p+"assets/images/prometheus-yml-930c33b61035225bafcbaa3ae3aa7443.png"},6709:function(e,t,r){t.Z=r.p+"assets/images/promethus-search-50a033fd07538adff1dfd1e43643e9af.png"}}]);